# Docker Compose environment
# Copy this file to .env and adjust values as needed.

# Exposed host ports
FRONTEND_PORT=8080
BACKEND_PORT=3000

# Host storage paths (TrueNAS dataset paths)
# Example: /mnt/tank/apps/sqadx/data and /mnt/tank/apps/sqadx/uploads
BACKEND_DATA_DIR=./data/backend
BACKEND_UPLOADS_DIR=./data/uploads

# Backend security
JWT_SECRET=change-this-to-a-long-random-secret

# SSL / Domain (for docker-compose.prod.yml)
# Example: app.meinverein.de
DOMAIN=
ACME_EMAIL=

# Internal backend config
DATABASE_PATH=/app/data/database.sqlite
# Optional but recommended in production/public deployments.
# Used for invite links (e.g. https://app.meinverein.de).
# If empty, backend falls back to request origin/headers.
FRONTEND_URL=http://localhost:8080

# Optional comma-separated CORS allow-list.
# Example: https://app.meinverein.de,https://admin.meinverein.de
CORS_ORIGIN=

# API rate limiting (backend)
# Time window in milliseconds (default: 15 minutes)
API_RATE_LIMIT_WINDOW_MS=900000
# Max requests per window for all /api routes (default: 300)
API_RATE_LIMIT_MAX=300
# Max requests per window for auth routes /api/auth/* (default: 20)
AUTH_RATE_LIMIT_MAX=20

# Login brute-force protection (per IP + username, failed attempts only)
# Time window in milliseconds (default: 15 minutes)
LOGIN_RATE_LIMIT_WINDOW_MS=900000
# Max failed login attempts per window (default: 8)
LOGIN_RATE_LIMIT_MAX=8
